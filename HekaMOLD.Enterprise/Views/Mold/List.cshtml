@{
    ViewBag.Title = "Kalıp Tanımları";
}

<div ng-controller="moldListCtrl">
    <!--begin::Toolbar-->
    <div class="toolbar" id="kt_toolbar">
        <!--begin::Container-->
        <div id="kt_toolbar_container" class="container-fluid d-flex flex-stack">
            <!--begin::Page title-->
            <div data-kt-place="true" data-kt-place-mode="prepend" data-kt-place-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}"
                 class="d-flex align-items-center me-3 flex-wrap mb-5 mb-lg-0 lh-1">
                <!--begin::Title-->
                <h1 class="d-flex align-items-center text-dark fw-bolder my-1 fs-3">
                    @ViewBag.Title
                </h1>
                <!--end::Title-->
            </div>
            <!--end::Page title-->
            <!--begin::Actions-->
            <div class="d-flex align-items-center py-1">
                <button class="btn btn-sm btn-flex btn-light-primary fw-bolder me-2" ng-click="showPrintDialog()">
                    <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1">
                        <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g id="Stockholm-icons-/-Shopping-/-Barcode" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <rect id="bound" x="0" y="0" width="24" height="24"></rect>
                                <path d="M13,5 L15,5 L15,20 L13,20 L13,5 Z M5,5 L5,20 L3,20 C2.44771525,20 2,19.5522847 2,19 L2,6 C2,5.44771525 2.44771525,5 3,5 L5,5 Z M16,5 L18,5 L18,20 L16,20 L16,5 Z M20,5 L21,5 C21.5522847,5 22,5.44771525 22,6 L22,19 C22,19.5522847 21.5522847,20 21,20 L20,20 L20,5 Z" id="Combined-Shape" fill="#000000"></path>
                                <polygon id="Path" fill="#000000" opacity="0.3" points="9 5 9 20 7 20 7 5"></polygon>
                            </g>
                        </svg>
                    </span>
                    Etiket Yazdır
                </button>

                <!--begin::Wrapper-->
                <div class="me-4">
                    <a href="@Url.Action("Index","Mold")" class="btn btn-sm btn-flex btn-light btn-active-primary fw-bolder">
                        <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path opacity="0.25" d="M3 4C3 2.34315 4.34315 1 6 1H15.7574C16.553 1 17.3161 1.31607 17.8787 1.87868L20.1213 4.12132C20.6839 4.68393 21 5.44699 21 6.24264V20C21 21.6569 19.6569 23 18 23H6C4.34315 23 3 21.6569 3 20V4Z" fill="#12131A" />
                                <path d="M15 1.89181C15 1.39927 15.3993 1 15.8918 1V1C16.6014 1 17.2819 1.28187 17.7836 1.78361L20.2164 4.21639C20.7181 4.71813 21 5.39863 21 6.10819V6.10819C21 6.60073 20.6007 7 20.1082 7H16C15.4477 7 15 6.55228 15 6V1.89181Z" fill="#12131A" />
                                <path d="M13 11C13 10.4477 12.5523 10 12 10C11.4477 10 11 10.4477 11 11V13H9C8.44771 13 8 13.4477 8 14C8 14.5523 8.44771 15 9 15H11V17C11 17.5523 11.4477 18 12 18C12.5523 18 13 17.5523 13 17V15H15C15.5523 15 16 14.5523 16 14C16 13.4477 15.5523 13 15 13H13V11Z" fill="#12131A" />
                            </svg>
                        </span>
                        Yeni
                    </a>
                </div>
                <!--end::Wrapper-->
            </div>
            <!--end::Actions-->
        </div>
        <!--end::Container-->
    </div>
    <!--end::Toolbar-->
    <!--begin::Post-->
    <div class="post d-flex flex-column-fluid" id="kt_post">
        <!--begin::Container-->
        <div id="kt_content_container" class="container-fluid">
            <!--begin::Row-->
            <div class="row gy-5 gx-xl-8">
                <!--begin::Col-->
                <div class="col-xxl-12">

                    <div class="dx-viewport d-flex flex-row">
                        <div id="dataList" class="flex-grow"></div>
                    </div>

                </div>
                <!--end::Col-->
            </div>
            <!--end::Row-->
        </div>
        <!--end::Container-->
    </div>
    <!--end::Post-->

    <div id="dial-print-label" title="Kalıp Etiketi" style="display:none;">
        <div class="no-print">
            <p class="d-flex flex-row">
                <button class="btn btn-primary btn-sm" ng-click="printLabel()">Toplu Yazdır</button>
                <button class="btn btn-primary btn-sm mx-2" ng-click="printLabelAsSingle()">Ayrı Yazdır</button>
            </p>
        </div>
        <div id="mold-label">
            <div class="d-flex flex-wrap">
                <div ng-repeat="item in printingMoldList" style="height: 511px; width: 507px; background-color: #fff; white-space: nowrap;">
                    <h3 class="text-center" style="margin-bottom:40px;padding-top:20px;">BATUSAN</h3>
                    <h5 class="text-center" style="margin-bottom:40px;">{{ item.MoldName }}</h5>
                    <div class="text-center" style="margin-bottom:40px;">
                        <img height="150" ng-src="https://api.qrserver.com/v1/create-qr-code/?data={{ item.MoldCode }}" />
                    </div>
                    <h6 class="text-center">{{ item.MoldCode }}</h6>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <link href="~/Content/dx.material.blue.light.compact.css" rel="stylesheet" />
    <script src="~/Scripts/dx.all.js"></script>
    <script src="~/Scripts/devextreme-localization/dx.messages.tr.js"></script>
    <script src="~/FrontEndLogic/Mold/list.js"></script>
}