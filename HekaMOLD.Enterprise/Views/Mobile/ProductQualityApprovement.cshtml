@using HekaMOLD.Enterprise.Helpers
@{
    ViewBag.Title = "Duruş Bildirimi";
    Layout = "~/Views/Shared/_LayoutMobile.cshtml";
}

<div>
    <!--begin::Post-->
    <div class="post d-flex flex-column-fluid" id="kt_post" ng-controller="serialApprovalCtrl">
        <!--begin::Container-->
        <div id="kt_content_container" class="container-fluid">
            <div class="row gy-5 mt-0 gx-xl-8 bg-white">
                <div class="col-sm-8 col-xs-8 col-xxl-8">
                    <div class="row">
                        <div class="col-sm-4 col-xxl-4 col-xs-4">
                            <!--begin::Title-->
                            <h1 class="d-flex align-items-center text-dark fw-bolder mt-3 fs-3">
                                @ViewBag.Title
                            </h1>
                            <label class="mt-2"><b>Seçilen <u>Koli:</u> <span ng-bind="selectedProducts.length"></span> / <u>Adet:</u> <span ng-bind="getListSum(selectedProducts, 'FirstQuantity')"></span></b></label>
                            <div ng-if="lastReadProduct.Id > 0" class="bg-light-primary border-1 rounded-1 p-1">
                                <p class="my-1 p-0" ng-bind="'Vardiya: '+lastReadProduct.ShiftCode +', Barkod: ' + lastReadProduct.SerialNo"></p>
                                <p class="my-1 p-0" ng-bind="'Tarih: ' + lastReadProduct.CreatedDateStr"></p>
                                <p class="my-1 p-0" ng-bind="'Ürün: ' + lastReadProduct.ItemName.substring(0, 25)"></p>
                            </div>
                            <!--end::Title-->
                        </div>
                        <div class="col-sm-4 col-xxl-4 col-xs-4">
                            <div class="row">
                                <div class="col-sm-6 col-xs-6 col-xxl-6">
                                    <a class="btn btn-sm btn-block w-100 h-75 mt-2 btn-warning" ng-click="conditionalApprove()">
                                        <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1" style="margin:0 auto;">
                                            <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                <g id="Stockholm-icons-/-Navigation-/-Check" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                    <polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon>
                                                    <path d="M6.26193932,17.6476484 C5.90425297,18.0684559 5.27315905,18.1196257 4.85235158,17.7619393 C4.43154411,17.404253 4.38037434,16.773159 4.73806068,16.3523516 L13.2380607,6.35235158 C13.6013618,5.92493855 14.2451015,5.87991302 14.6643638,6.25259068 L19.1643638,10.2525907 C19.5771466,10.6195087 19.6143273,11.2515811 19.2474093,11.6643638 C18.8804913,12.0771466 18.2484189,12.1143273 17.8356362,11.7474093 L14.0997854,8.42665306 L6.26193932,17.6476484 Z" id="Path-94" fill="#000000" fill-rule="nonzero" transform="translate(11.999995, 12.000002) rotate(-180.000000) translate(-11.999995, -12.000002) "></path>
                                                </g>
                                            </svg>
                                        </span>
                                        <br />
                                        <span style="display:block;margin-top:5px;margin-bottom:10px;">ŞARTLI KABUL</span>
                                    </a>
                                </div>
                                <div class="col-sm-6 col-xs-6 col-xxl-6">
                                    <a class="btn btn-sm btn-block w-100 h-75 mt-2 btn-danger" ng-click="sendToWastage()">
                                        <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1" style="margin:0 auto;">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path opacity="0.25" fill-rule="evenodd" clip-rule="evenodd" d="M2.36899 6.54184C2.65912 4.34504 4.34504 2.65912 6.54184 2.36899C8.05208 2.16953 9.94127 2 12 2C14.0587 2 15.9479 2.16953 17.4582 2.36899C19.655 2.65912 21.3409 4.34504 21.631 6.54184C21.8305 8.05208 22 9.94127 22 12C22 14.0587 21.8305 15.9479 21.631 17.4582C21.3409 19.655 19.655 21.3409 17.4582 21.631C15.9479 21.8305 14.0587 22 12 22C9.94127 22 8.05208 21.8305 6.54184 21.631C4.34504 21.3409 2.65912 19.655 2.36899 17.4582C2.16953 15.9479 2 14.0587 2 12C2 9.94127 2.16953 8.05208 2.36899 6.54184Z" fill="#12131A" />
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.29289 8.29289C8.68342 7.90237 9.31658 7.90237 9.70711 8.29289L12 10.5858L14.2929 8.29289C14.6834 7.90237 15.3166 7.90237 15.7071 8.29289C16.0976 8.68342 16.0976 9.31658 15.7071 9.70711L13.4142 12L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L12 13.4142L9.70711 15.7071C9.31658 16.0976 8.68342 16.0976 8.29289 15.7071C7.90237 15.3166 7.90237 14.6834 8.29289 14.2929L10.5858 12L8.29289 9.70711C7.90237 9.31658 7.90237 8.68342 8.29289 8.29289Z" fill="#12131A" />
                                            </svg>
                                        </span>
                                        <br />
                                        <span style="display: block; margin-top: 5px; margin-bottom: 10px;">HURDA</span>
                                    </a>
                                </div>
                            </div>
                            <div>

                                <!--begin::Input group-->
                                <div class="mb-5">
                                    <input type="text" class="form-control bg-light-warning"
                                           ng-model="barcodeBox"
                                           ng-keyup="onBarcodeKeyUp($event)"
                                           placeholder="Barkod" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4 col-xxl-4 col-xs-4">
                            <label class="mt-0 text-center w-100 bg-light-dark rounded-1"><b>Durum Filtreleri</b></label>
                            <div class="d-flex flex-row h-75">
                                @*<button type="button"
                                            ng-class="{'btn-dark': isQualityFilterSelected(1)}"
                                            ng-click="toggleQualityFilter(1)"
                                            class="btn btn-sm btn-success btn-block h-75 flex-fill mt-2 mx-1">
                                        <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                            <g id="Stockholm-icons-/-Text-/-Filter" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                <rect id="bound" x="0" y="0" width="24" height="24"></rect>
                                                <path d="M5,4 L19,4 C19.2761424,4 19.5,4.22385763 19.5,4.5 C19.5,4.60818511 19.4649111,4.71345191 19.4,4.8 L14,12 L14,20.190983 C14,20.4671254 13.7761424,20.690983 13.5,20.690983 C13.4223775,20.690983 13.3458209,20.6729105 13.2763932,20.6381966 L10,19 L10,12 L4.6,4.8 C4.43431458,4.5790861 4.4790861,4.26568542 4.7,4.1 C4.78654809,4.03508894 4.89181489,4 5,4 Z" id="Path-33" fill="#000000"></path>
                                            </g>
                                        </svg>Ok
                                    </button>*@
                                <button type="button"
                                        ng-class="{'btn-dark': isQualityFilterSelected(2)}"
                                        ng-click="toggleQualityFilter(2)"
                                        class="btn btn-sm btn-danger btn-block h-75 flex-fill mt-2 mx-1">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Stockholm-icons-/-Text-/-Filter" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect id="bound" x="0" y="0" width="24" height="24"></rect>
                                            <path d="M5,4 L19,4 C19.2761424,4 19.5,4.22385763 19.5,4.5 C19.5,4.60818511 19.4649111,4.71345191 19.4,4.8 L14,12 L14,20.190983 C14,20.4671254 13.7761424,20.690983 13.5,20.690983 C13.4223775,20.690983 13.3458209,20.6729105 13.2763932,20.6381966 L10,19 L10,12 L4.6,4.8 C4.43431458,4.5790861 4.4790861,4.26568542 4.7,4.1 C4.78654809,4.03508894 4.89181489,4 5,4 Z" id="Path-33" fill="#000000"></path>
                                        </g>
                                    </svg>Red
                                </button>
                                <button type="button"
                                        ng-class="{'btn-dark': isQualityFilterSelected(3)}"
                                        ng-click="toggleQualityFilter(3)"
                                        class="btn btn-sm btn-warning btn-block h-75 flex-fill mt-2 mx-1">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Stockholm-icons-/-Text-/-Filter" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect id="bound" x="0" y="0" width="24" height="24"></rect>
                                            <path d="M5,4 L19,4 C19.2761424,4 19.5,4.22385763 19.5,4.5 C19.5,4.60818511 19.4649111,4.71345191 19.4,4.8 L14,12 L14,20.190983 C14,20.4671254 13.7761424,20.690983 13.5,20.690983 C13.4223775,20.690983 13.3458209,20.6729105 13.2763932,20.6381966 L10,19 L10,12 L4.6,4.8 C4.43431458,4.5790861 4.4790861,4.26568542 4.7,4.1 C4.78654809,4.03508894 4.89181489,4 5,4 Z" id="Path-33" fill="#000000"></path>
                                        </g>
                                    </svg>Bekleme
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="col-sm-4 col-xs-4 col-xxl-4">
                    <div class="row">
                        <div class="col-sm-3 col-xs-3 col-xxl-3">
                            <a class="btn btn-sm btn-block w-100 h-75 mt-2 btn-success" ng-click="approveProduct()">
                                <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1" style="margin:0 auto;">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Stockholm-icons-/-Navigation-/-Check" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <polygon id="Shape" points="0 0 24 0 24 24 0 24"></polygon>
                                            <path d="M6.26193932,17.6476484 C5.90425297,18.0684559 5.27315905,18.1196257 4.85235158,17.7619393 C4.43154411,17.404253 4.38037434,16.773159 4.73806068,16.3523516 L13.2380607,6.35235158 C13.6013618,5.92493855 14.2451015,5.87991302 14.6643638,6.25259068 L19.1643638,10.2525907 C19.5771466,10.6195087 19.6143273,11.2515811 19.2474093,11.6643638 C18.8804913,12.0771466 18.2484189,12.1143273 17.8356362,11.7474093 L14.0997854,8.42665306 L6.26193932,17.6476484 Z" id="Path-94" fill="#000000" fill-rule="nonzero" transform="translate(11.999995, 12.000002) rotate(-180.000000) translate(-11.999995, -12.000002) "></path>
                                        </g>
                                    </svg>
                                </span>
                                <br />
                                <span style="display:block;margin-top:5px;margin-bottom:10px;">OK</span>
                            </a>
                        </div>
                        <div class="col-sm-3 col-xs-3 col-xxl-3">
                            <a class="btn btn-sm btn-block w-100 h-75 mt-2 btn-danger" ng-click="deleteEntries()">
                                <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1" style="margin:0 auto;">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Stockholm-icons-/-Home-/-Trash" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect id="bound" x="0" y="0" width="24" height="24"></rect>
                                            <path d="M6,8 L18,8 L17.106535,19.6150447 C17.04642,20.3965405 16.3947578,21 15.6109533,21 L8.38904671,21 C7.60524225,21 6.95358004,20.3965405 6.89346498,19.6150447 L6,8 Z M8,10 L8.45438229,14.0894406 L15.5517885,14.0339036 L16,10 L8,10 Z" id="Combined-Shape" fill="#000000" fill-rule="nonzero"></path>
                                            <path d="M14,4.5 L14,3.5 C14,3.22385763 13.7761424,3 13.5,3 L10.5,3 C10.2238576,3 10,3.22385763 10,3.5 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" id="Shape" fill="#000000" opacity="0.3"></path>
                                        </g>
                                    </svg>
                                </span>
                                <br />
                                <span style="display:block;margin-top:0px;">Sil</span>
                            </a>
                        </div>
                        <div class="col-sm-3 col-xs-3 col-xxl-3">
                            <a class="btn btn-sm btn-block w-100 h-75 mt-2 btn-danger" ng-click="denyProduct()">
                                <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1" style="margin:0 auto;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.25" fill-rule="evenodd" clip-rule="evenodd" d="M2.36899 6.54184C2.65912 4.34504 4.34504 2.65912 6.54184 2.36899C8.05208 2.16953 9.94127 2 12 2C14.0587 2 15.9479 2.16953 17.4582 2.36899C19.655 2.65912 21.3409 4.34504 21.631 6.54184C21.8305 8.05208 22 9.94127 22 12C22 14.0587 21.8305 15.9479 21.631 17.4582C21.3409 19.655 19.655 21.3409 17.4582 21.631C15.9479 21.8305 14.0587 22 12 22C9.94127 22 8.05208 21.8305 6.54184 21.631C4.34504 21.3409 2.65912 19.655 2.36899 17.4582C2.16953 15.9479 2 14.0587 2 12C2 9.94127 2.16953 8.05208 2.36899 6.54184Z" fill="#12131A" />
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.29289 8.29289C8.68342 7.90237 9.31658 7.90237 9.70711 8.29289L12 10.5858L14.2929 8.29289C14.6834 7.90237 15.3166 7.90237 15.7071 8.29289C16.0976 8.68342 16.0976 9.31658 15.7071 9.70711L13.4142 12L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L12 13.4142L9.70711 15.7071C9.31658 16.0976 8.68342 16.0976 8.29289 15.7071C7.90237 15.3166 7.90237 14.6834 8.29289 14.2929L10.5858 12L8.29289 9.70711C7.90237 9.31658 7.90237 8.68342 8.29289 8.29289Z" fill="#12131A" />
                                    </svg>
                                </span>
                                <br />
                                <span style="display: block; margin-top: 5px; margin-bottom: 10px;">NOK</span>
                            </a>
                        </div>
                        <div class="col-sm-3 col-xs-3 col-xxl-3">
                            <a class="btn btn-sm btn-block w-100 h-75 mt-2 btn-warning" ng-click="waitProduct()">
                                <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1" style="margin:0 auto;">
                                    <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <g id="Stockholm-icons-/-Navigation-/-Waiting" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect id="bound" x="0" y="0" width="24" height="24"></rect>
                                            <path d="M19.5,10.5 L21,10.5 C21.8284271,10.5 22.5,11.1715729 22.5,12 C22.5,12.8284271 21.8284271,13.5 21,13.5 L19.5,13.5 C18.6715729,13.5 18,12.8284271 18,12 C18,11.1715729 18.6715729,10.5 19.5,10.5 Z M16.0606602,5.87132034 L17.1213203,4.81066017 C17.7071068,4.22487373 18.6568542,4.22487373 19.2426407,4.81066017 C19.8284271,5.39644661 19.8284271,6.34619408 19.2426407,6.93198052 L18.1819805,7.99264069 C17.5961941,8.57842712 16.6464466,8.57842712 16.0606602,7.99264069 C15.4748737,7.40685425 15.4748737,6.45710678 16.0606602,5.87132034 Z M16.0606602,18.1819805 C15.4748737,17.5961941 15.4748737,16.6464466 16.0606602,16.0606602 C16.6464466,15.4748737 17.5961941,15.4748737 18.1819805,16.0606602 L19.2426407,17.1213203 C19.8284271,17.7071068 19.8284271,18.6568542 19.2426407,19.2426407 C18.6568542,19.8284271 17.7071068,19.8284271 17.1213203,19.2426407 L16.0606602,18.1819805 Z M3,10.5 L4.5,10.5 C5.32842712,10.5 6,11.1715729 6,12 C6,12.8284271 5.32842712,13.5 4.5,13.5 L3,13.5 C2.17157288,13.5 1.5,12.8284271 1.5,12 C1.5,11.1715729 2.17157288,10.5 3,10.5 Z M12,1.5 C12.8284271,1.5 13.5,2.17157288 13.5,3 L13.5,4.5 C13.5,5.32842712 12.8284271,6 12,6 C11.1715729,6 10.5,5.32842712 10.5,4.5 L10.5,3 C10.5,2.17157288 11.1715729,1.5 12,1.5 Z M12,18 C12.8284271,18 13.5,18.6715729 13.5,19.5 L13.5,21 C13.5,21.8284271 12.8284271,22.5 12,22.5 C11.1715729,22.5 10.5,21.8284271 10.5,21 L10.5,19.5 C10.5,18.6715729 11.1715729,18 12,18 Z M4.81066017,4.81066017 C5.39644661,4.22487373 6.34619408,4.22487373 6.93198052,4.81066017 L7.99264069,5.87132034 C8.57842712,6.45710678 8.57842712,7.40685425 7.99264069,7.99264069 C7.40685425,8.57842712 6.45710678,8.57842712 5.87132034,7.99264069 L4.81066017,6.93198052 C4.22487373,6.34619408 4.22487373,5.39644661 4.81066017,4.81066017 Z M4.81066017,19.2426407 C4.22487373,18.6568542 4.22487373,17.7071068 4.81066017,17.1213203 L5.87132034,16.0606602 C6.45710678,15.4748737 7.40685425,15.4748737 7.99264069,16.0606602 C8.57842712,16.6464466 8.57842712,17.5961941 7.99264069,18.1819805 L6.93198052,19.2426407 C6.34619408,19.8284271 5.39644661,19.8284271 4.81066017,19.2426407 Z" id="Oval" fill="#000000" fill-rule="nonzero" opacity="0.5"></path>
                                        </g>
                                    </svg>
                                </span>
                                <br />
                                <span style="display: block; margin-top: 5px; margin-bottom: 10px;">Bekleme</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!--begin::DETAIL TABLE-->
            <div class="row gy-5 mt-4 gx-xl-8 bg-white">
                @* KOLİ TABLOSU *@
                <div class="col-xxl-8 col-sm-8">
                    <h5 class="hk-title-mobile">Koli Listesi</h5>
                    <div class="d-flex flex-row justify-content-end">
                        <button type="button" class="btn btn-primary mx-1" ng-cloak
                                ng-click="selectAll(item)"
                                ng-bind="selectedProducts.length == filteredPickupList.length && selectedProducts.length > 0 ? 'Seçimi Kaldır' : 'Tümünü Seç'">
                        </button>
                    </div>
                    <table class="table table-bordered table-hk-md-lh">
                        <thead>
                            <tr>
                                <th class="w-10 px-2">Tarih</th>
                                <th class="w-10 px-2">Makine</th>
                                @*<th class="w-10 px-2">Koli No</th>*@
                                @*<th class="w-10 px-2">Stok No</th>*@
                                <th class="w-25 px-2">Stok Adı</th>
                                <th class="w-15 px-2">Firma</th>
                                <th class="w-10 px-1">Vardiya</th>
                                <th class="w-15 px-2">Durum</th>
                                <th class="w-15 px-2">Koli İçi Adet</th>
                                <th class="w-15 px-2">#</th>
                            </tr>
                        </thead>
                    </table>
                    <div class="table-scroller-md">
                        <table ng-cloak class="table table-bordered table-hk-md-lg">
                            <tbody>
                                <tr ng-repeat="item in filteredPickupList"
                                    ng-show="modelObject.ShowOnlyWaitings == false || modelObject.ShowOnlyWaitings == true && (item.QualityStatus == 0 || item.QualityStatus == 3)"
                                    ng-class="{'bg-warning': isSelectedProduct(item)}">
                                    <td class="w-10 px-2" ng-bind="item.ShiftBelongsToDateStr"></td>
                                    <td class="w-10 px-2" ng-bind="item.MachineCode"></td>
                                    @*<td class="w-10 px-2">{{item.SerialNo}}</td>*@
                                    @*<td class="w-10 px-2">{{item.ItemNo}}</td>*@
                                    <td class="w-25 px-2" ng-bind="item.ItemName"></td>
                                    <td class="w-15 px-2" ng-bind="item.FirmName"></td>
                                    <td class="w-10 px-1" ng-bind="item.ShiftCode"></td>
                                    <td class="w-15 px-2"
                                        ng-class="{
                                        'bg-success': item.QualityStatus == 1,
                                        'bg-danger': item.QualityStatus == 2,
                                        'bg-warning': item.QualityStatus == 3}">
                                        <a ng-bind="item.QualityStatusText.replace('Kalite','')"
                                           class="text-dark cursor-pointer"
                                           ng-class="{'text-decoration-underline': item.QualityStatus == 2}"
                                           ng-click="showQualityText(item)"></a>
                                    </td>
                                    <td class="w-15 px-2">
                                        <button type="button" ng-click="changePackageQuantity(item)"
                                                class="btn btn-sm btn-primary w-100 fw-bolder text-center" ng-bind="item.FirstQuantity">
                                        </button>
                                        @*<input type="number"
                                            class="form-control form-control-sm"
                                            ng-model="item.FirstQuantity" />*@
                                    </td>
                                    <td class="w-15 px-2">
                                        <div class="d-flex flex-row">
                                            <button type="button" ng-click="selectProduct(item)"
                                                    class="btn btn-sm btn-primary flex-grow-1"
                                                    ng-bind="isSelectedProduct(item) ? 'Kaldır' : 'Seç'">
                                            </button>

                                            <button type="button" ng-click="selectParty(item)"
                                                    class="btn btn-sm btn-primary flex-grow-1 mx-2"
                                                    ng-bind="isSelectedProduct(item) ? 'Partiyi Kaldır' : 'Partiyi Seç'">
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <table class="table table-bordered">
                        <tfoot>
                            <tr class="bg-primary text-white">
                                <th class="w-50 px-2 py-1"><b>TOPLAM: </b></th>
                                <th class="w-25 px-2 py-1"><b ng-bind="filteredPickupList.length + ' KOLİ'"></b></th>
                                <th class="w-25 px-2 py-1"><b ng-bind="getListSum(filteredPickupList, 'FirstQuantity') + ' ADET'"></b></th>
                                <th class="w-10 px-2 py-1"></th>
                            </tr>
                        </tfoot>
                    </table>
                </div>

                @* STOK ÖZET & TOPLAM TABLOSU *@
                <div class="col-xxl-4 col-sm-4">
                    <h5 class="hk-title-mobile">Ürün Toplamları</h5>
                    <div class="d-flex flex-row">
                        <button type="button" class="btn btn-primary flex-grow-1 mx-1"
                                ng-class="{'btn-dark': selectedShift.Id == item.Id}"
                                ng-click="selectShift(item)"
                                ng-repeat="item in shiftList" ng-bind="item.ShiftCode">
                        </button>
                    </div>
                    <table class="table table-bordered table-hk-md">
                        <thead>
                            <tr>
                                <th class="w-50 px-2">Ürün</th>
                                <th class="w-10 px-1">Vardiya</th>
                                <th class="w-20 px-2">Koli Adedi</th>
                                <th class="w-20 px-2">Ürün Adedi</th>
                                <th class="w-10 px-2">#</th>
                            </tr>
                        </thead>
                    </table>
                    <div class="table-scroller-sm">
                        <table ng-cloak class="table table-bordered table-striped table-hk-md">
                            <tbody>
                                <tr ng-repeat="item in filteredSummaryList"
                                    ng-class="{'bg-warning': selectedSummary.ItemName == item.ItemName}">
                                    <td class="w-50 px-2" ng-bind="item.ItemName"></td>
                                    <td class="w-20 px-1" ng-bind="item.ShiftCode"></td>
                                    <td class="w-25 px-2" ng-bind="item.SerialCount"></td>
                                    <td class="w-25 px-2" ng-bind="item.SerialSum"></td>
                                    <td class="w-10 px-2">
                                        <button type="button" class="btn btn-sm btn-primary" ng-click="selectSummary(item)"
                                                ng-bind="selectedSummary.ItemName == item.ItemName ? 'Kaldır' : 'Seç'">
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <table class="table table-bordered">
                        <tfoot>
                            <tr class="bg-primary text-white" ng-repeat="item in shiftList">
                                <th class="w-50 px-2 py-1"><b ng-bind="item.ShiftCode + ' Vardiyası'"></b></th>
                                <th class="w-25 px-2 py-1"><b ng-bind="getShiftSum(item.ShiftCode, 'SerialCount') + ' KOLİ'"></b></th>
                                <th class="w-25 px-2 py-1"><b ng-bind="getShiftSum(item.ShiftCode, 'SerialSum') + ' ADET'"></b></th>
                                <th class="w-10 px-2 py-1"></th>
                            </tr>
                            <tr class="bg-primary text-white">
                                <th class="w-50 px-2 py-1"><b>TOPLAM: </b></th>
                                <th class="w-25 px-2 py-1"><b ng-bind="getListSum(filteredSummaryList, 'SerialCount') + ' KOLİ'"></b></th>
                                <th class="w-25 px-2 py-1"><b ng-bind="getListSum(filteredSummaryList, 'SerialSum') + ' ADET'"></b></th>
                                <th class="w-10 px-2 py-1"></th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <!--end::DETAIL TABLE-->
        </div>
        <!--end::Container-->
    </div>
    <!--end::Post-->
</div>

@section scripts{
    <script>
        var IS_PRODCHIEF = @(Html.IsGranted("IsProductionChief") ? "true" : "false");
        var IS_MECHANICS = @(Html.IsGranted("MobileMechanicUser") ? "true" : "false");
        var MACHINE_ID = @(Request.Cookies.AllKeys.Contains("MachineId") ? Request.Cookies["MachineId"].Value : "0");
        var MACHINE_NAME = '@(Request.Cookies.AllKeys.Contains("MachineName") ? Server.UrlDecode(Request.Cookies["MachineName"].Value) : "")';
    </script>
    <link href="~/Content/dx.material.blue.light.compact.css" rel="stylesheet" />
    <style type="text/css">
        .data-row.selected, .data-row-selected td {
            background-color: #0094ff !important;
        }
    </style>
    <script src="~/Scripts/dx.all.js"></script>
    <script src="~/Scripts/devextreme-localization/dx.messages.tr.js"></script>

    <script src="~/Scripts/html5-qrcode.min.js"></script>
    <script src="~/FrontEndLogic/ProductQuality/serial-approval.js?v=4"></script>
}